// Setup file for Synthology UNIX development container
// with Python, uv, and DLV installed.
//
// This dev container uses the Dockerfile in the same directory
// to actually build the container.
//
// Author: Vincent Van Schependom
{
    "name": "synthology",
    // Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile
    "build": {
        "dockerfile": "Dockerfile"
    },
    "features": {},

    // Download dependencies, set DLV path, and install pre-commit hooks
    "postCreateCommand": "bash .devcontainer/post_create.sh",

    // Configure tool-specific properties.
    "customizations": {
        "vscode": {
            "extensions": ["ms-python.python", "editorconfig.editorconfig"],
            "settings": {
                "python.testing.pytestArgs": ["tests"],
                "python.testing.unittestEnabled": false,
                "python.testing.pytestEnabled": true,
                "python.defaultInterpreterPath": ".venv/bin/python",
                "python.testing.pytestPath": ".venv/bin/pytest"
            }
        }
    }
}
